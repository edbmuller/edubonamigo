.section--projects {
	padding: 15vh 0;

	@include laptop {
		padding: 15vw 0;
	}
}

.project {
	margin-bottom: 15vh;

	@include laptop {
		margin-bottom: 0;
	}

	&:nth-child(1) h3 {
		font-size: 21vw;
	}

	&:nth-child(2) h3 {
		font-size: 18vw;
	}

	&:nth-child(3) h3 {
		font-size: 16.7vw;
	}

	&__title {
		display: flex;
		justify-content: flex-end;

		@include ultra {
			justify-content: flex-start;
		}

		h3 {
			cursor: pointer;
			font-family: var(--serif-font-family);
			width: fit-content;

			@include ultra {
				margin-left: 55vw;
			}
		}

		&.--fade-in h3 {
			@include landscape {
				font-size: 8vw;
				line-height: 1.1;
				margin-bottom: 0;
			}

			@include laptop {
				opacity: 0.2;
				font-size: 7vw;
				line-height: 1;
			}

			@include desktop {
				font-size: 7vw;
				line-height: 1;
			}

			@include ultra {
				font-size: 6vw;
			}
		}
	}

	.marquee {
		position: relative;
		overflow: hidden;
		// transform: translateY(-60%);
		--offset: 20vw;
		--move-initial: calc(-25% + var(--offset));
		--move-final: calc(-50% + var(--offset));
		margin-bottom: 5vh;

		@include laptop {
			width: 34vw;
		}

		@include laptop {
			margin-bottom: 4vh;
			margin-left: auto;
		}
	}

	.marquee__inner {
		width: fit-content;
		display: flex;
		position: relative;
		transform: translate3d(var(--move-initial), 0, 0);
		animation: marquee 10s linear infinite;
		animation-play-state: paused;
		transition: opacity 0.2s $easing;
		will-change: transform;
		opacity: 0;
	}

	.marquee span {
		font-family: var(--sans-font-family);
		text-transform: uppercase;
		font-size: 1.2rem;
		padding: 0 1.5rem;
		position: relative;

		@include laptop {
			font-size: 1.6rem;
			padding: 0 4rem;
		}

		&::before {
			content: '';
			position: absolute;
			top: 50%;
			right: 0;
			transform: translateX(50%);
			width: 5px;
			height: 1px;
			background-color: var(--secondary-color);
		}
	}

	@keyframes marquee {
		0% {
			transform: translate3d(var(--move-initial), 0, 0);
		}

		100% {
			transform: translate3d(var(--move-final), 0, 0);
		}
	}

	#slider {
		width: 100%;

		@include laptop {
			display: none;
		}
	}

	&.--active {
		display: block;

		@include laptop {
			h3 {
				opacity: 1;
				z-index: 10;
			}
		}

		.marquee__inner {
			opacity: 1;
			animation-play-state: running;
		}
	}
}

.slider {
	display: none;
	pointer-events: none;
	position: fixed;
	bottom: 1vh;
	left: 3vw;
	width: 60vw;
	height: auto;
	// height: 65vh;
	aspect-ratio: 3/2;
	// padding-bottom: 60%;
	z-index: -1;
	opacity: 0;
	transition: opacity 0.2s $easing;

	@include laptop {
		display: block;
	}

	@include ultra {
		width: 40vw;
		left: 10vw;
	}

	&__img--wrapper {
		height: 100%;
		width: 100%;
		overflow: hidden;
		position: absolute;
		left: 0;
		top: 0;
	}

	&__img {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		overflow: hidden;
	}

	&__img--mask {
		height: 100%;
		overflow: hidden;
	}

	img {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		object-position: top left;
		opacity: 0;
		transition: opacity 0.3s $easing;

		&.--active {
			opacity: 1;
		}
	}

	&.--active {
		@include laptop {
			pointer-events: visible;
			opacity: 1;
		}
	}
}
